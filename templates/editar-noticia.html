{% extends "home.html" %}
{% block noticias %}
<section class="crud">
    <div class="container">
        <div class="row">
            <h2 class="text-center mt-5 mb-5">Editar Notícia</h2>
            <div class="col-12 d-flex justify-content-center">
                <form action="/editar-noticia/{{ noticia.id }}" method="post" id="editarForm" enctype="multipart/form-data">
                    
                    <label for="titulo">Título:</label>
                    <input type="text" name="titulo" id="titulo" value="{{ noticia.titulo }}" required>

                    <label for="descricao">Descrição:</label>
                    <textarea id="descricao" name="descricao" rows="6" cols="50" required>{{ noticia.descricao }}</textarea>

                    <label for="imagem">Imagem:</label>
                    {% if noticia.img %}
                        <p>Imagem atual:</p>
                        <img src="{{ url_for('static', filename='imgs/' + noticia.img) }}" alt="Imagem atual" width="250" style="border-radius:10px; margin-bottom:10px;">
                    {% endif %}
                    <input type="file" name="imagem" id="imagem" accept=".jpg,.png">

                    <label for="categoria">Categoria:</label>
                    <input type="text" name="categoria" id="categoria" value="{{ noticia.categoria }}" required>

                    <div class="text-center">
                        <button class="mt-3" type="submit">Salvar Alterações</button>
                        <a href="/listagem-noticias" class="mt-3 btn-deletar" style="text-decoration:none; padding:7px 15px; border-radius:8px;">Cancelar</a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>
{% endblock %}
